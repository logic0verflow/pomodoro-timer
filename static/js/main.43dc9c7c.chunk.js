(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t){},223:function(e,t,n){e.exports=n(379)},231:function(e,t,n){},379:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),o=n.n(i),c=(n(231),n(23)),s=n(25),l=n(26),u=n(28),m=n(27),d=n(29),p=n(34),f=n(381),b=n(383),h=n(382),v=n(10),k=n(18),E=n(72),g=n(11),O=n.n(g),C=n(17),y=n.n(C),S=n(38),j=n.n(S),w=n(65),I=n.n(w),R=n(146),D=n.n(R),T=n(43),N=n.n(T),B=n(145),A=n.n(B),_=n(147),W=n.n(_),P=n(21);var U=Object(v.withStyles)({lapIcon:{width:"1.5em",height:"1.5em"}})(function(e){for(var t=e.classes,n=e.sessionAmt,a=e.completeAmt,i=[],o=0;o<n;o+=1)o<n-a?i.push({color:"disabled",id:o}):i.push({color:"primary",id:o});return r.a.createElement(P.c,{container:!0},i.map(function(e){var n=e.color,a=e.id;return r.a.createElement(N.a,{className:t.lapIcon,color:n,key:a})}))});var K=Object(v.withStyles)({fab:{marginLeft:"1rem",marginRight:"1rem"}})(function(e){var t=e.classes,n=e.aria,a=e.onClick,i=e.children;return r.a.createElement(P.a,{color:"primary","aria-label":n,className:t.fab,onClick:a},i)}),L=n(64),M=n.n(L),x=n(50),q=n.n(x),G=n(33),z=n.n(G),Y=n(144),J=n.n(Y),V=n(143),X=n.n(V),H=n(142),Q=n.n(H);var $=Object(v.withStyles)(function(e){return{icon:{fontSize:20,opacity:.9,marginRight:e.spacing.unit},closeIcon:{fontSize:20,opacity:.9},message:{display:"flex",alignItems:"center"},breakOver:{backgroundColor:Q.a[700]}}})(function(e){var t=e.classes,n=e.open,a=e.onClose,i=e.onClick,o=e.msg,c=e.timeout;return r.a.createElement(M.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:a,autoHideDuration:c},r.a.createElement(q.a,{className:t.breakOver,"aria-describedby":"notification",message:r.a.createElement("span",{id:"notification",className:t.message},r.a.createElement(X.a,{className:t.icon}),o),action:r.a.createElement(z.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:i},r.a.createElement(J.a,{className:t.closeIcon}))}))}),F=n(42),Z=n.n(F),ee=n(51),te=n.n(ee);var ne=Object(v.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,maxWidth:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:2*e.spacing.unit,outline:"none"},modal:{display:"flex",justifyContent:"center",alignItems:"center"}}})(function(e){var t=e.classes,n=e.open,a=e.onClose,i=e.onClickYes,o=e.onClickNo,c=e.msg;return r.a.createElement(Z.a,{"aria-describedby":"modal-confirmation",open:n,onClose:a,className:t.modal},r.a.createElement("div",{className:t.paper},r.a.createElement(j.a,{id:"modal-confirmation",variant:"body1"},c),r.a.createElement(y.a,{container:!0,justify:"flex-end"},r.a.createElement(te.a,{onClick:o},"No"),r.a.createElement(te.a,{onClick:i},"Yes"))))}),ae="IDLE",re="RUNNING",ie=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Start Work Timer",onClick:t},r.a.createElement(N.a,null))},oe=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Pause Timer",onClick:t},r.a.createElement(A.a,null))},ce=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Stop Timer",onClick:t},r.a.createElement(D.a,null))},se=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Start Break Timer",onClick:t},r.a.createElement(W.a,null))},le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).timerWrapper=function(){var e=n.props.workDuration,t=n.state,a=t.sessionsComplete,r=t.startTime,i=t.duration,o=t.type,c=t.timeIntervals,s=O.a.duration(O()().diff(O()(r||new Date)));s=Math.round(s.as("seconds")),s+=c.reduce(function(e,t){return e+t},0);var l=Math.round(i-s);if(l<=0){var u=n.state.intervalId;clearInterval(u),"WORK"===o?n.setState({breakRequest:!0,modalOpen:!0,sessionsComplete:a+1,status:ae,timeRemaining:0,timeIntervals:[]}):n.setState({breakSnackbarOpen:!0,status:ae,type:"WORK",duration:e,timeRemaining:e,timeIntervals:[]})}else n.setState({timeRemaining:l})},n.resetTimer=function(){var e=n.props.workDuration,t=n.state.intervalId;t&&clearInterval(t),n.setState({modalOpen:!1,breakRequest:!1,stopRequest:!1,duration:e,sessionsComplete:0,status:ae,timeRemaining:e,type:"WORK",timeIntervals:[]})},n.startTimer=function(){},n.handleClose=function(){n.setState({modalOpen:!1,stopRequest:!1,breakRequest:!1})},n.closeBreakSnackbar=function(){n.setState({breakSnackbarOpen:!1})},n.onClickReset=function(){},n.onClickStop=function(){n.setState({modalOpen:!0,stopRequest:!0})},n.onClickStartWork=function(){var e=n.props.workDuration,t=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:t,status:re,type:"WORK",duration:e,timeRemaining:e,timeIntervals:[]})},n.onClickResume=function(){var e=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:e,status:re})},n.onClickStartBreak=function(){var e=n.props.breakDuration,t=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:t,status:re,type:"BREAK",duration:e,timeRemaining:e,timeIntervals:[]})},n.onClickPaused=function(){var e=n.state,t=e.intervalId,a=e.startTime,r=e.timeIntervals;clearInterval(t);var i=O()(),o=O()(a),c=O.a.duration(i.diff(o)).as("seconds"),s=Math.round(c);n.setState({status:"PAUSED",startTime:null,timeIntervals:[].concat(Object(E.a)(r),[s])})},n.state={modalOpen:!1,intervalId:null,stopRequest:!1,breakRequest:!1,breakSnackbarOpen:!1,duration:e.workDuration,sessionsComplete:0,status:ae,timeRemaining:e.workDuration,type:"WORK",timeIntervals:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props,a=n.longBreakEnabled,i=n.workSessions,o=this.state,c=o.modalOpen,s=o.breakRequest,l=o.stopRequest,u=o.breakSnackbarOpen,m=o.duration,d=o.sessionsComplete,p=o.status,f=o.timeRemaining,b=O.a.duration(f,"seconds"),h=b.minutes(),v=b.seconds(),k="".concat(h,":").concat(v<10?"0":"").concat(v),E=f/m*100;return r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:16,className:t.container},r.a.createElement(y.a,{item:!0},a&&r.a.createElement(U,{sessionAmt:i,completeAmt:d})),r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(I.a,{value:E,size:200,thickness:2,variant:"static"})),r.a.createElement(y.a,{item:!0,style:{position:"absolute"}},r.a.createElement(j.a,{variant:"h4",color:"inherit",headlineMapping:{h4:"p"}},k)))),r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},p===ae&&r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(ie,{onClick:this.onClickStartWork})),r.a.createElement(y.a,{item:!0},r.a.createElement(se,{onClick:this.onClickStartBreak}))),"PAUSED"===p&&r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(ie,{onClick:this.onClickResume})),r.a.createElement(y.a,{item:!0},r.a.createElement(ce,{onClick:this.onClickStop}))),p===re&&r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(oe,{onClick:this.onClickPaused})),r.a.createElement(y.a,{item:!0},r.a.createElement(ce,{onClick:this.onClickStop}))))),s&&r.a.createElement(ne,{open:c,onClose:this.handleClose,onClickYes:function(){e.onClickStartBreak(),e.handleClose()},onClickNo:function(){e.onClickStartWork(),e.handleClose()},msg:"Do you want to take a break?"}),l&&r.a.createElement(ne,{open:c,onClose:this.handleClose,onClickYes:this.resetTimer,onClickNo:this.handleClose,msg:"Are you sure you want to stop?"}),r.a.createElement($,{open:u,onClose:this.closeBreakSnackbar,onClick:this.closeBreakSnackbar,msg:"Break time over!",timeout:5e3}))}}]),t}(a.Component);le.defaultProps={startTime:null};var ue=Object(c.d)(Object(p.b)(function(e){var t=e.settings;return Object(k.a)({},t)}),Object(v.withStyles)({container:{height:"100%",marginLeft:-16,marginRight:-16}}))(le),me=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",null,"Statistics")}}]),t}(a.Component),de=Object(v.withStyles)(function(e){return{}})(me),pe=n(37),fe=n.n(pe);function be(e){var t=e.classes,n=e.children;return r.a.createElement(fe.a,{className:t.root,elevation:1},n)}be.defaultProps={children:null};var he=Object(v.withStyles)(function(e){return{root:Object(k.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:"100%"})}})(be);function ve(e){for(var t=[],n=0;n<e.length;n+=1){var a=e[n],i=a.type,o=a.label,c=a.value,s=a.dependents,l=void 0===s?null:s,u=a.onChange;"number"===i?t.push(r.a.createElement(ke,{key:n,label:o,value:c,onChange:u,dependents:l})):"switch"===i&&t.push(r.a.createElement(Ee,{key:n,label:o,value:c,onChange:u,dependents:l}))}return t}function ke(e){var t=e.label,n=e.value,a=e.onChange;return r.a.createElement(P.e,{label:t,value:n,onChange:function(e){return a(e.target.value)},type:"number",InputLabelProps:{shrink:!0},margin:"normal"})}function Ee(e){var t=e.label,n=e.value,a=e.onChange,i=e.dependents;return r.a.createElement(P.c,{item:!0},r.a.createElement(P.c,{item:!0,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(P.b,null,t),r.a.createElement(P.d,{name:"longBreakEnabled",checked:n,onChange:a,value:n,color:"primary"})),r.a.createElement(P.c,{item:!0,container:!0,direction:"column"},!0===n&&ve(i)))}var ge=Object(v.withStyles)(function(e){return{w100:{width:"100%"}}})(function(e){var t=e.form,n=e.classes,a=ve(t);return r.a.createElement("div",{className:n.w100},r.a.createElement(P.c,{container:!0,direction:"column"},a))}),Oe="UPDATE_WORK_DURATION",Ce="UPDATE_BREAK_DURATION",ye="UPDATE_LONG_BREAK_DURATION",Se="UPDATE_WORK_SESSIONS",je="TOGGLE_LONG_BREAK";var we=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=e.target,n=t.name,a=t.value;console.log("".concat(n,": ").concat(a))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.workDuration,n=e.breakDuration,a=e.longBreakEnabled,i=e.longBreakDuration,o=e.workSessions,c=e.dispatch,s=[{label:"Work Duration",type:"number",value:O.a.duration(t,"second").asMinutes(),onChange:function(e){return c((t="0"===e||""===e?1:Number(e),{type:Oe,workDuration:t}));var t}},{label:"Break Duration",type:"number",value:O.a.duration(n,"second").asMinutes(),onChange:function(e){return c((t="0"===e||""===e?1:Number(e),{type:Ce,breakDuration:t}));var t}},{label:"Long Break Enabled",type:"switch",value:a,onChange:function(){return c({type:je})},dependents:[{label:"Long Break Duration",type:"number",value:O.a.duration(i,"second").asMinutes(),onChange:function(e){return c((t="0"===e||""===e?1:Number(e),{type:ye,longBreakDuration:t}));var t}},{label:"Work sessions before long break",type:"number",value:o,onChange:function(e){return c((t="0"===e||""===e?1:Number(e),{type:Se,workSessions:t}));var t}}]}];return r.a.createElement(P.c,{container:!0,justify:"center"},r.a.createElement(P.c,{item:!0,xs:12,sm:6,md:5,lg:3,xl:2},r.a.createElement(he,null,r.a.createElement("h2",null,"Timer"),r.a.createElement(ge,{form:s}))))}}]),t}(a.Component);var Ie=Object(c.d)(Object(p.b)(function(e){var t=e.settings;return Object(k.a)({},t)}),Object(v.withStyles)(function(e){return{}}))(we),Re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Ie,null))}}]),t}(a.Component),De=Object(v.withStyles)(function(e){return{root:{paddingBottom:64}}})(Re),Te=n(66),Ne=n.n(Te),Be=n(67),Ae=n.n(Be),_e=n(148),We=n.n(_e),Pe=n(380),Ue=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:""},n.handleClick=function(e){n.setState({currentPage:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.currentPage;return r.a.createElement(Ne.a,{position:"fixed",color:"primary",className:t.appBar},r.a.createElement(Ae.a,{className:t.toolbar},r.a.createElement(z.a,{color:"/"===n?"secondary":"inherit","aria-label":"Open timer",onClick:function(){return e.handleClick("/")},component:Pe.a,to:"/"},r.a.createElement(N.a,null)),r.a.createElement(z.a,{color:"/settings/"===n?"secondary":"inherit","aria-label":"Open settings",onClick:function(){return e.handleClick("/settings/")},component:Pe.a,to:"/settings/"},r.a.createElement(We.a,null))))}}]),t}(a.Component),Ke=Object(v.withStyles)(function(e){return{appBar:{top:"auto",bottom:0},toolbar:{alignItems:"center",justifyContent:"space-between"},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}})(Ue),Le=n(68),Me=n.n(Le),xe=Object(v.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#2979ff"},secondary:{main:"#ff9100"},warning:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}}}),qe=function(e){var t=e.children;return r.a.createElement(Me.a,null,r.a.createElement(v.MuiThemeProvider,{theme:xe},t))};qe.defaultProps={children:[]};var Ge=qe,ze=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(Ge,null,r.a.createElement(b.a,null,r.a.createElement(h.a,{path:"/statistics/",component:de}),r.a.createElement(h.a,{path:"/settings",component:De}),r.a.createElement(h.a,{path:"/",component:ue})),r.a.createElement(Ke,null)))}}]),t}(a.Component);var Ye=Object(c.d)(Object(p.b)(function(e){return{}}),Object(v.withStyles)({}))(ze),Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ve(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Xe=n(150),He={email:"",firstName:"",lastName:""};var Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.SET_USER:return{email:t.email,firstName:t.firstName,lastName:t.lastName};default:return e}},$e="UPDATE_TIMER",Fe="RESET_SESSION",Ze="SET_PAUSED";var et="SET_WORK_STARTED",tt="WORK_COMPLETE",nt="SET_BREAK_STARTED",at="SET_BREAK_COMPLETE",rt={type:"WORK",duration:O.a.duration(.1,"minutes").as("seconds"),timeRemaining:O.a.duration(.1,"minutes").as("seconds")},it={type:"BREAK",duration:O.a.duration(.05,"minutes").as("seconds"),timeRemaining:O.a.duration(.05,"minutes").as("seconds")},ot=Object(k.a)({status:"IDLE",startTime:null,completeAmt:0,sessionAmt:4,timeIntervals:[]},rt);function ct(e){var t=O()(),n=O()(e),a=O.a.duration(t.diff(n)).as("seconds");return Math.round(a)}var st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(k.a)({},e,{timeRemaining:t.timeRemaining});case Fe:return ot;case et:return Object(k.a)({},e,rt,{status:"RUNNING",startTime:new Date});case nt:return Object(k.a)({},e,it,{status:"RUNNING",startTime:new Date});case Ze:return Object(k.a)({},e,{status:"PAUSED",startTime:null,timeIntervals:[].concat(Object(E.a)(e.timeIntervals),[ct(e.startTime)])});case tt:return Object(k.a)({},e,{completeAmt:e.completeAmt+1,status:"IDLE",timeIntervals:[],timeRemaining:0});case at:return Object(k.a)({},e,rt,{status:"IDLE",startTime:null});default:return e}},lt={workDuration:O.a.duration(.1,"minutes").asSeconds(),breakDuration:O.a.duration(5,"minutes").asSeconds(),longBreakEnabled:!1,longBreakDuration:O.a.duration(10,"minutes").asSeconds(),workSessions:4};var ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(k.a)({},e,{workDuration:O.a.duration(t.workDuration,"minutes").asSeconds()});case Ce:return Object(k.a)({},e,{breakDuration:O.a.duration(t.breakDuration,"minutes").asSeconds()});case je:return Object(k.a)({},e,{longBreakEnabled:!e.longBreakEnabled});case ye:return Object(k.a)({},e,{longBreakDuration:O.a.duration(t.longBreakDuration,"minutes").asSeconds()});case Se:return Object(k.a)({},e,{workSessions:t.workSessions});default:return e}},mt=Object(c.c)({user:Qe,timer:st,settings:ut}),dt=n(151),pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,ft=Object(c.e)(mt,pt(Object(c.a)(dt.a)));o.a.render(r.a.createElement(p.a,{store:ft},r.a.createElement(Ye,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/pomodoro-timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/pomodoro-timer","/service-worker.js");Je?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ve(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ve(e)})}}()}},[[223,1,2]]]);
//# sourceMappingURL=main.43dc9c7c.chunk.js.map