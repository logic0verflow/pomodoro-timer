(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t){},212:function(e,t,n){e.exports=n(352)},220:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(22),o=n.n(i),c=(n(220),n(20)),s=n(23),l=n(24),u=n(26),m=n(25),p=n(27),d=n(39),f=n(354),h=n(356),v=n(355),b=n(6),g=n(28),E=n(19),k=n.n(E),O=n(15),y=n.n(O),C=n(34),S=n.n(C),j=n(43),w=n.n(j),I=n(35),T=n.n(I),R=n(54),N=n.n(R),A=n(118),W=n.n(A),B=n(38),D=n.n(B),_=n(117),P=n.n(_),x=n(119),L=n.n(x),U=n(59),M=n.n(U),q=n(44);var z=Object(b.withStyles)({lapIcon:{width:"1.5em",height:"1.5em"}})(function(e){for(var t=e.classes,n=e.sessionAmt,a=e.completeAmt,i=[],o=0;o<n;o+=1)o<n-a?i.push({color:"disabled",id:o}):i.push({color:"primary",id:o});return r.a.createElement(q.b,{container:!0},i.map(function(e){var n=e.color,a=e.id;return r.a.createElement(D.a,{className:t.lapIcon,color:n,key:a})}))});var K=Object(b.withStyles)({fab:{marginLeft:"1rem",marginRight:"1rem"}})(function(e){var t=e.classes,n=e.aria,a=e.onClick,i=e.children;return r.a.createElement(q.a,{color:"primary","aria-label":n,className:t.fab,onClick:a},i)}),G=n(53),J=n.n(G),V=n(42),X=n.n(V),H=n(32),Q=n.n(H),Y=n(116),$=n.n(Y),F=n(115),Z=n.n(F);var ee=Object(b.withStyles)(function(e){return{icon:{fontSize:20,opacity:.9,marginRight:e.spacing.unit},closeIcon:{fontSize:20,opacity:.9},message:{display:"flex",alignItems:"center"},breakOver:{backgroundColor:M.a[700]}}})(function(e){var t=e.classes,n=e.open,a=e.onClose,i=e.onClick,o=e.msg,c=e.timeout;return r.a.createElement(J.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:a,autoHideDuration:c},r.a.createElement(X.a,{className:t.breakOver,"aria-describedby":"notification",message:r.a.createElement("span",{id:"notification",className:t.message},r.a.createElement(Z.a,{className:t.icon}),o),action:r.a.createElement(Q.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:i},r.a.createElement($.a,{className:t.closeIcon}))}))}),te="UPDATE_TIMER",ne="RESET_SESSION",ae="SET_PAUSED";var re=function(){return{type:ae}},ie="SET_WORK_STARTED",oe="WORK_COMPLETE",ce=function(){return{type:ie}},se=function(){return{type:oe}},le="SET_BREAK_STARTED",ue="SET_BREAK_COMPLETE",me=function(){return{type:le}},pe=function(){return{type:ue}},de="IDLE",fe="RUNNING",he="PAUSED",ve=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Start Work Timer",onClick:t},r.a.createElement(D.a,null))},be=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Pause Timer",onClick:t},r.a.createElement(P.a,null))},ge=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Stop Timer",onClick:t},r.a.createElement(W.a,null))},Ee=function(e){var t=e.onClick;return r.a.createElement(K,{aria:"Start Break Timer",onClick:t},r.a.createElement(L.a,null))},ke=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).getTimeRemaining=function(){var e=n.props,t=e.startTime,a=e.duration,r=e.timeIntervals,i=k.a.duration(k()().diff(k()(t||new Date)));return i=Math.round(i.as("seconds")),a-(i+=r.reduce(function(e,t){return e+t},0))},n.timerWrapper=function(){var e=n.props,t=e.dispatch,a=e.type,r=n.getTimeRemaining();if(r<=0)if("WORK"===a){var i=n.state.intervalId;clearInterval(i),n.setState({breakRequest:!0,modalOpen:!0}),t(se())}else{var o=n.state.intervalId;clearInterval(o),t(pe()),n.setState({breakSnackbarOpen:!0})}else t(function(e){var t=e.timeRemaining;return{type:te,timeRemaining:t}}({timeRemaining:r}))},n.resetTimer=function(){var e=n.state.intervalId;e&&clearInterval(e),(0,n.props.dispatch)({type:ne}),n.setState({modalOpen:!1})},n.startTimer=function(){(0,n.props.dispatch)(ce());var e=setInterval(n.timerWrapper,1e3);n.setState({intervalId:e})},n.onClickPaused=function(){var e=n.state.intervalId;clearInterval(e),(0,n.props.dispatch)(re())},n.handleClose=function(){n.setState({modalOpen:!1,stopRequest:!1,breakRequest:!1})},n.closeBreakSnackbar=function(){n.setState({breakSnackbarOpen:!1})},n.onClickControl=function(){var e=n.props.status;e===de||e===he?n.startTimer():e===fe&&n.pauseTimer()},n.onClickReset=function(){n.resetTimer()},n.onClickStop=function(){n.setState({modalOpen:!0,stopRequest:!0})},n.onClickResume=function(){console.log("resuming")},n.onClickStartWork=function(){(0,n.props.dispatch)(ce());var e=setInterval(n.timerWrapper,1e3);n.setState({intervalId:e})},n.onClickStartBreak=function(){(0,n.props.dispatch)(me());var e=setInterval(n.timerWrapper,1e3);n.setState({intervalId:e})},n.renderStop=function(){var e=n.props.classes;return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"body1"},"Are you sure you want to stop?"),r.a.createElement("div",null,r.a.createElement(T.a,{className:e.button,onClick:n.handleClose},"Cancel"),r.a.createElement(T.a,{className:e.button,onClick:n.resetTimer},"Ok")))},n.renderBreak=function(){var e=n.props.classes;return r.a.createElement("div",null,r.a.createElement(S.a,{variant:"body1"},"Do you want to take a break?"),r.a.createElement("div",null,r.a.createElement(T.a,{className:e.button,onClick:function(){n.onClickStartWork(),n.handleClose()}},"No"),r.a.createElement(T.a,{className:e.button,onClick:function(){n.onClickStartBreak(),n.handleClose()}},"Yes")))},n.state={modalOpen:!1,intervalId:null,stopRequest:!1,breakRequest:!1,breakSnackbarOpen:!1},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.status===fe&&this.startTimer()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.status,a=e.duration,i=(e.type,e.sessionAmt),o=e.completeAmt,c=this.state,s=c.modalOpen,l=c.breakRequest,u=c.stopRequest,m=c.breakSnackbarOpen,p=this.getTimeRemaining(),d=k.a.duration(p,"seconds"),f=d.minutes(),h=d.seconds(),v="".concat(f,":").concat(h<10?"0":"").concat(h),b=p/a*100;return r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:16,className:t.container},r.a.createElement(y.a,{item:!0},r.a.createElement(z,{sessionAmt:i,completeAmt:o})),r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(N.a,{value:b,size:200,thickness:2,variant:"static"})),r.a.createElement(y.a,{item:!0,style:{position:"absolute"}},r.a.createElement(S.a,{variant:"h4",color:"inherit",headlineMapping:{h4:"p"}},v)))),r.a.createElement(y.a,{item:!0},r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},n===de||n===he?r.a.createElement(ve,{onClick:this.onClickStartWork}):r.a.createElement(be,{onClick:this.onClickPaused})),r.a.createElement(y.a,{item:!0},n===fe||n===he?r.a.createElement(ge,{onClick:this.onClickStop}):r.a.createElement(Ee,{onClick:this.onClickStartBreak})))),r.a.createElement(w.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:s,onClose:this.handleClose,className:t.modal},r.a.createElement("div",{className:t.paper},r.a.createElement(y.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},l?this.renderBreak():null,u?this.renderStop():null))),r.a.createElement(ee,{open:m,onClose:this.closeBreakSnackbar,onClick:this.closeBreakSnackbar,msg:"Break time over!",timeout:5e3}))}}]),t}(a.Component);ke.defaultProps={startTime:null};var Oe=Object(c.d)(Object(d.b)(function(e){var t=e.timer;return Object(g.a)({},t)}),Object(b.withStyles)(function(e){return{reset:{color:e.palette.getContrastText(e.palette.warning.main),backgroundColor:e.palette.warning.main,"&:hover":{backgroundColor:e.palette.warning.dark}},container:{height:"100%"},fab:{marginLeft:"1rem",marginRight:"1rem"},lapIcon:{width:"1.5em",height:"1.5em"},paper:{position:"absolute",width:50*e.spacing.unit,maxWidth:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:2*e.spacing.unit,outline:"none"},modal:{display:"flex",justifyContent:"center",alignItems:"center"},message:{display:"flex",alignItems:"center"},icon:{fontSize:20,opacity:.9,marginRight:e.spacing.unit},closeIcon:{fontSize:20,opacity:.9},breakOver:{backgroundColor:M.a[700]}}}))(ke),ye=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",null,"Statistics")}}]),t}(a.Component),Ce=Object(b.withStyles)(function(e){return{}})(ye),Se=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",null,"Settings")}}]),t}(a.Component),je=Object(b.withStyles)(function(e){return{}})(Se),we=n(55),Ie=n.n(we),Te=n(56),Re=n.n(Te),Ne=n(121),Ae=n.n(Ne),We=n(120),Be=n.n(We),De=n(353),_e=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:""},n.handleClick=function(e){n.setState({currentPage:e})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.currentPage;return r.a.createElement(Ie.a,{position:"fixed",color:"primary",className:t.appBar},r.a.createElement(Re.a,{className:t.toolbar},r.a.createElement(Q.a,{color:"/"===n?"secondary":"inherit","aria-label":"Open timer",onClick:function(){return e.handleClick("/")},component:De.a,to:"/"},r.a.createElement(D.a,null)),r.a.createElement(Q.a,{color:"/statistics/"===n?"secondary":"inherit","aria-label":"Open statistics",onClick:function(){return e.handleClick("/statistics/")},component:De.a,to:"/statistics/"},r.a.createElement(Be.a,null)),r.a.createElement(Q.a,{color:"/settings/"===n?"secondary":"inherit","aria-label":"Open settings",onClick:function(){return e.handleClick("/settings/")},component:De.a,to:"/settings/"},r.a.createElement(Ae.a,null))))}}]),t}(a.Component),Pe=(Object(b.withStyles)(function(e){return{appBar:{top:"auto",bottom:0},toolbar:{alignItems:"center",justifyContent:"space-between"},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}})(_e),n(57)),xe=n.n(Pe),Le=Object(b.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#2979ff"},secondary:{main:"#ff9100"},warning:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}}}),Ue=function(e){var t=e.children;return r.a.createElement(xe.a,null,r.a.createElement(b.MuiThemeProvider,{theme:Le},t))};Ue.defaultProps={children:[]};var Me=Ue;function qe(e){var t=e.children,n=e.classes;return r.a.createElement("div",{className:n.root},r.a.createElement(y.a,{container:!0,spacing:0,className:n.container},t))}qe.defaultProps={children:{}};var ze=Object(b.withStyles)({container:{height:"100%"},root:{padding:8,height:"100%"}})(qe),Ke=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(Me,null,r.a.createElement(ze,null,r.a.createElement(h.a,null,r.a.createElement(v.a,{path:"/statistics/",component:Ce}),r.a.createElement(v.a,{path:"/settings",component:je}),r.a.createElement(v.a,{path:"/",component:Oe})))))}}]),t}(a.Component);var Ge=Object(c.d)(Object(d.b)(function(e){return{}}),Object(b.withStyles)({}))(Ke),Je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ve(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Xe=n(123),He={email:"",firstName:"",lastName:""};var Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.SET_USER:return{email:t.email,firstName:t.firstName,lastName:t.lastName};default:return e}},Ye=n(125),$e={type:"WORK",duration:k.a.duration(.1,"minutes").as("seconds"),timeRemaining:k.a.duration(.1,"minutes").as("seconds")},Fe={type:"BREAK",duration:k.a.duration(.05,"minutes").as("seconds"),timeRemaining:k.a.duration(.05,"minutes").as("seconds")},Ze=Object(g.a)({status:"IDLE",startTime:null,completeAmt:0,sessionAmt:4,timeIntervals:[]},$e);function et(e){var t=k()(),n=k()(e),a=k.a.duration(t.diff(n)).as("seconds");return Math.round(a)}var tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(g.a)({},e,{timeRemaining:t.timeRemaining});case ne:return Ze;case ie:return Object(g.a)({},e,$e,{status:"RUNNING",startTime:new Date});case le:return Object(g.a)({},e,Fe,{status:"RUNNING",startTime:new Date});case ae:return Object(g.a)({},e,{status:"PAUSED",startTime:null,timeIntervals:[].concat(Object(Ye.a)(e.timeIntervals),[et(e.startTime)])});case oe:return Object(g.a)({},e,{completeAmt:e.completeAmt+1,status:"IDLE",timeIntervals:[],timeRemaining:0});case ue:return Object(g.a)({},e,$e,{status:"IDLE",startTime:null});default:return e}},nt=Object(c.c)({user:Qe,timer:tt}),at=n(124),rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,it=Object(c.e)(nt,rt(Object(c.a)(at.a)));o.a.render(r.a.createElement(d.a,{store:it},r.a.createElement(Ge,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/pomodoro-timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/pomodoro-timer","/service-worker.js");Je?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ve(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ve(e)})}}()}},[[212,1,2]]]);
//# sourceMappingURL=main.ba54b793.chunk.js.map