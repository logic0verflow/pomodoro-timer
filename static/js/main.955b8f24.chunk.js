(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{150:function(e,t){},223:function(e,t,n){e.exports=n(379)},231:function(e,t,n){},379:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),i=n.n(o),s=(n(231),n(23)),c=n(25),l=n(26),u=n(28),m=n(27),d=n(29),p=n(34),f=n(381),b=n(383),k=n(382),h=n(10),v=n(18),g=n(72),E=n(11),O=n.n(E),C=n(17),S=n.n(C),y=n(38),w=n.n(y),j=n(65),R=n.n(j),I=n(146),D=n.n(I),T=n(43),N=n.n(T),B=n(145),A=n.n(B),W=n(147),_=n.n(W),P=n(21);var L=Object(h.withStyles)({lapIcon:{width:"1.5em",height:"1.5em"}})(function(e){for(var t=e.classes,n=e.sessionAmt,a=e.completeAmt,o=[],i=0;i<n;i+=1)i<n-a?o.push({color:"disabled",id:i}):o.push({color:"primary",id:i});return r.a.createElement(P.c,{container:!0},o.map(function(e){var n=e.color,a=e.id;return r.a.createElement(N.a,{className:t.lapIcon,color:n,key:a})}))});var U=Object(h.withStyles)({fab:{marginLeft:"1rem",marginRight:"1rem"}})(function(e){var t=e.classes,n=e.aria,a=e.onClick,o=e.children;return r.a.createElement(P.a,{color:"primary","aria-label":n,className:t.fab,onClick:a},o)}),K=n(64),M=n.n(K),x=n(50),q=n.n(x),G=n(33),z=n.n(G),Y=n(143),J=n.n(Y),V=n(142),X=n.n(V),H=n(144),Q=n.n(H);function $(e){var t=e.classes,n=e.open,a=e.onClose,o=e.onClick,i=e.msg,s=e.timeout,c=e.color;return r.a.createElement(M.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,onClose:a,autoHideDuration:s},r.a.createElement(q.a,{style:{backgroundColor:c},"aria-describedby":"notification",message:r.a.createElement("span",{id:"notification",className:t.message},r.a.createElement(X.a,{className:t.icon}),i),action:r.a.createElement(z.a,{"aria-label":"Close",color:"inherit",className:t.close,onClick:o},r.a.createElement(J.a,{className:t.closeIcon}))}))}$.defaultProps={color:Q.a[700]};var F=Object(h.withStyles)(function(e){return{icon:{fontSize:20,opacity:.9,marginRight:e.spacing.unit},closeIcon:{fontSize:20,opacity:.9},message:{display:"flex",alignItems:"center"}}})($),Z=n(42),ee=n.n(Z),te=n(51),ne=n.n(te);var ae=Object(h.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,maxWidth:"100%",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:2*e.spacing.unit,outline:"none"},modal:{display:"flex",justifyContent:"center",alignItems:"center"}}})(function(e){var t=e.classes,n=e.open,a=e.onClose,o=e.onClickYes,i=e.onClickNo,s=e.msg;return r.a.createElement(ee.a,{"aria-describedby":"modal-confirmation",open:n,onClose:a,className:t.modal},r.a.createElement("div",{className:t.paper},r.a.createElement(w.a,{id:"modal-confirmation",variant:"body1"},s),r.a.createElement(S.a,{container:!0,justify:"flex-end"},r.a.createElement(ne.a,{onClick:i},"No"),r.a.createElement(ne.a,{onClick:o},"Yes"))))}),re="IDLE",oe="RUNNING",ie=function(e){var t=e.onClick;return r.a.createElement(U,{aria:"Start Work Timer",onClick:t},r.a.createElement(N.a,null))},se=function(e){var t=e.onClick;return r.a.createElement(U,{aria:"Pause Timer",onClick:t},r.a.createElement(A.a,null))},ce=function(e){var t=e.onClick;return r.a.createElement(U,{aria:"Stop Timer",onClick:t},r.a.createElement(D.a,null))},le=function(e){var t=e.onClick;return r.a.createElement(U,{aria:"Start Break Timer",onClick:t},r.a.createElement(_.a,null))},ue=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).timerWrapper=function(){var e=n.props,t=e.workDuration,a=e.workSessions,r=e.longBreakEnabled,o=n.state,i=o.sessionsComplete,s=o.startTime,c=o.duration,l=o.type,u=o.timeIntervals,m=O.a.duration(O()().diff(O()(s||new Date)));m=Math.round(m.as("seconds")),m+=u.reduce(function(e,t){return e+t},0);var d=Math.round(c-m);if(d<=0){var p=n.state.intervalId;if(clearInterval(p),"WORK"===l)if(r){var f=i===a-1,b=f,k=!b;n.setState({breakRequest:k,longBreakRequest:b,modalOpen:!0,sessionsComplete:f?0:i+1,status:re,timeRemaining:0,timeIntervals:[],sessionsCompleteSnackbarOpen:f})}else n.setState({breakRequest:!0,modalOpen:!0,status:re,timeRemaining:0,timeIntervals:[]});else n.setState({breakSnackbarOpen:!0,status:re,type:"WORK",duration:t,timeRemaining:t,timeIntervals:[]})}else n.setState({timeRemaining:d})},n.resetTimer=function(){var e=n.props.workDuration,t=n.state.intervalId;t&&clearInterval(t),n.setState({modalOpen:!1,breakRequest:!1,stopRequest:!1,duration:e,sessionsComplete:0,status:re,timeRemaining:e,type:"WORK",timeIntervals:[]})},n.startTimer=function(){},n.handleClose=function(){n.setState({modalOpen:!1,stopRequest:!1,breakRequest:!1})},n.closeBreakSnackbar=function(){n.setState({breakSnackbarOpen:!1})},n.closeCompleteSnackbar=function(){n.setState({sessionsCompleteSnackbarOpen:!1})},n.onClickReset=function(){},n.onClickStop=function(){n.setState({modalOpen:!0,stopRequest:!0})},n.onClickStartWork=function(){var e=n.props.workDuration,t=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:t,status:oe,type:"WORK",duration:e,timeRemaining:e,timeIntervals:[]})},n.onClickResume=function(){var e=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:e,status:oe})},n.onClickStartBreak=function(){var e=n.props.breakDuration,t=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:t,status:oe,type:"BREAK",duration:e,timeRemaining:e,timeIntervals:[]})},n.onClickStartLongBreak=function(){var e=n.props.longBreakDuration,t=setInterval(n.timerWrapper,1e3);n.setState({startTime:new Date,intervalId:t,status:oe,type:"BREAK",duration:e,timeRemaining:e,timeIntervals:[]})},n.onClickPaused=function(){var e=n.state,t=e.intervalId,a=e.startTime,r=e.timeIntervals;clearInterval(t);var o=O()(),i=O()(a),s=O.a.duration(o.diff(i)).as("seconds"),c=Math.round(s);n.setState({status:"PAUSED",startTime:null,timeIntervals:[].concat(Object(g.a)(r),[c])})},n.state={modalOpen:!1,intervalId:null,stopRequest:!1,breakRequest:!1,breakSnackbarOpen:!1,sessionsCompleteSnackbarOpen:!1,duration:e.workDuration,sessionsComplete:0,status:re,timeRemaining:e.workDuration,type:"WORK",timeIntervals:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props,a=n.longBreakEnabled,o=n.workSessions,i=this.state,s=i.modalOpen,c=i.breakRequest,l=i.longBreakRequest,u=i.stopRequest,m=i.breakSnackbarOpen,d=i.duration,p=i.sessionsComplete,f=i.status,b=i.timeRemaining,k=i.sessionsCompleteSnackbarOpen,h=O.a.duration(b,"seconds"),v=h.minutes(),g=h.seconds(),E="".concat(v,":").concat(g<10?"0":"").concat(g),C=b/d*100;return r.a.createElement(S.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:16,className:t.container},r.a.createElement(S.a,{item:!0},a&&r.a.createElement(L,{sessionAmt:o,completeAmt:p})),r.a.createElement(S.a,{item:!0},r.a.createElement(S.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(S.a,{item:!0},r.a.createElement(R.a,{value:C,size:200,thickness:2,variant:"static"})),r.a.createElement(S.a,{item:!0,style:{position:"absolute"}},r.a.createElement(w.a,{variant:"h4",color:"inherit",headlineMapping:{h4:"p"}},E)))),r.a.createElement(S.a,{item:!0},r.a.createElement(S.a,{container:!0,justify:"center",alignItems:"center"},f===re&&r.a.createElement(S.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(S.a,{item:!0},r.a.createElement(ie,{onClick:this.onClickStartWork})),r.a.createElement(S.a,{item:!0},r.a.createElement(le,{onClick:this.onClickStartBreak}))),"PAUSED"===f&&r.a.createElement(S.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(S.a,{item:!0},r.a.createElement(ie,{onClick:this.onClickResume})),r.a.createElement(S.a,{item:!0},r.a.createElement(ce,{onClick:this.onClickStop}))),f===oe&&r.a.createElement(S.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(S.a,{item:!0},r.a.createElement(se,{onClick:this.onClickPaused})),r.a.createElement(S.a,{item:!0},r.a.createElement(ce,{onClick:this.onClickStop}))))),c&&r.a.createElement(ae,{open:s,onClose:this.handleClose,onClickYes:function(){e.onClickStartBreak(),e.handleClose()},onClickNo:function(){e.onClickStartWork(),e.handleClose()},msg:"Do you want to take a break?"}),l&&r.a.createElement(ae,{open:s,onClose:this.handleClose,onClickYes:function(){e.onClickStartLongBreak(),e.handleClose()},onClickNo:function(){e.onClickStartWork(),e.handleClose()},msg:"Do you want to take a LONG break?"}),u&&r.a.createElement(ae,{open:s,onClose:this.handleClose,onClickYes:this.resetTimer,onClickNo:this.handleClose,msg:"Are you sure you want to stop?"}),r.a.createElement(F,{open:m,onClose:this.closeBreakSnackbar,onClick:this.closeBreakSnackbar,msg:"Break time over!",timeout:5e3}),r.a.createElement(F,{open:k,onClose:this.closeCompleteSnackbar,onClick:this.closeCompleteSnackbar,msg:"Congratulations! All work sessions are complete.",timeout:1e4,color:"#4caf50"}))}}]),t}(a.Component);ue.defaultProps={startTime:null};var me=Object(s.d)(Object(p.b)(function(e){var t=e.settings;return Object(v.a)({},t)}),Object(h.withStyles)({container:{height:"100%",marginLeft:-16,marginRight:-16}}))(ue),de=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h2",null,"Statistics")}}]),t}(a.Component),pe=Object(h.withStyles)(function(e){return{}})(de),fe=n(37),be=n.n(fe);function ke(e){var t=e.classes,n=e.children;return r.a.createElement(be.a,{className:t.root,elevation:1},n)}ke.defaultProps={children:null};var he=Object(h.withStyles)(function(e){return{root:Object(v.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:"100%"})}})(ke);function ve(e){for(var t=[],n=0;n<e.length;n+=1){var a=e[n],o=a.type,i=a.label,s=a.value,c=a.dependents,l=void 0===c?null:c,u=a.onChange;"number"===o?t.push(r.a.createElement(ge,{key:n,label:i,value:s,onChange:u,dependents:l})):"switch"===o&&t.push(r.a.createElement(Ee,{key:n,label:i,value:s,onChange:u,dependents:l}))}return t}function ge(e){var t=e.label,n=e.value,a=e.onChange;return r.a.createElement(P.e,{label:t,value:n,onChange:function(e){return a(e.target.value)},type:"number",InputLabelProps:{shrink:!0},margin:"normal"})}function Ee(e){var t=e.label,n=e.value,a=e.onChange,o=e.dependents;return r.a.createElement(P.c,{item:!0},r.a.createElement(P.c,{item:!0,container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(P.b,null,t),r.a.createElement(P.d,{name:"longBreakEnabled",checked:n,onChange:a,value:n,color:"primary"})),r.a.createElement(P.c,{item:!0,container:!0,direction:"column"},!0===n&&ve(o)))}var Oe=Object(h.withStyles)(function(e){return{w100:{width:"100%"}}})(function(e){var t=e.form,n=e.classes,a=ve(t);return r.a.createElement("div",{className:n.w100},r.a.createElement(P.c,{container:!0,direction:"column"},a))}),Ce="UPDATE_WORK_DURATION",Se="UPDATE_BREAK_DURATION",ye="UPDATE_LONG_BREAK_DURATION",we="UPDATE_WORK_SESSIONS",je="TOGGLE_LONG_BREAK";var Re=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=e.target,n=t.name,a=t.value;console.log("".concat(n,": ").concat(a))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.workDuration,n=e.breakDuration,a=e.longBreakEnabled,o=e.longBreakDuration,i=e.workSessions,s=e.dispatch,c=[{label:"Work Duration",type:"number",value:O.a.duration(t,"second").asMinutes(),onChange:function(e){return s((t="0"===e||""===e?1:Number(e),{type:Ce,workDuration:t}));var t}},{label:"Break Duration",type:"number",value:O.a.duration(n,"second").asMinutes(),onChange:function(e){return s((t="0"===e||""===e?1:Number(e),{type:Se,breakDuration:t}));var t}},{label:"Long Break Enabled",type:"switch",value:a,onChange:function(){return s({type:je})},dependents:[{label:"Long Break Duration",type:"number",value:O.a.duration(o,"second").asMinutes(),onChange:function(e){return s((t="0"===e||""===e?1:Number(e),{type:ye,longBreakDuration:t}));var t}},{label:"Work sessions before long break",type:"number",value:i,onChange:function(e){return s((t="0"===e||""===e?1:Number(e),{type:we,workSessions:t}));var t}}]}];return r.a.createElement(P.c,{container:!0,justify:"center"},r.a.createElement(P.c,{item:!0,xs:12,sm:6,md:5,lg:3,xl:2},r.a.createElement(he,null,r.a.createElement("h2",null,"Timer"),r.a.createElement(Oe,{form:c}))))}}]),t}(a.Component);var Ie=Object(s.d)(Object(p.b)(function(e){var t=e.settings;return Object(v.a)({},t)}),Object(h.withStyles)(function(e){return{}}))(Re),De=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Ie,null))}}]),t}(a.Component),Te=Object(h.withStyles)(function(e){return{root:{paddingBottom:64}}})(De),Ne=n(66),Be=n.n(Ne),Ae=n(67),We=n.n(Ae),_e=n(148),Pe=n.n(_e),Le=n(380),Ue=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:""},n.handleClick=function(e){n.setState({currentPage:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state.currentPage;return r.a.createElement(Be.a,{position:"fixed",color:"primary",className:t.appBar},r.a.createElement(We.a,{className:t.toolbar},r.a.createElement(z.a,{color:"/"===n?"secondary":"inherit","aria-label":"Open timer",onClick:function(){return e.handleClick("/")},component:Le.a,to:"/"},r.a.createElement(N.a,null)),r.a.createElement(z.a,{color:"/settings/"===n?"secondary":"inherit","aria-label":"Open settings",onClick:function(){return e.handleClick("/settings/")},component:Le.a,to:"/settings/"},r.a.createElement(Pe.a,null))))}}]),t}(a.Component),Ke=Object(h.withStyles)(function(e){return{appBar:{top:"auto",bottom:0},toolbar:{alignItems:"center",justifyContent:"space-between"},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"}}})(Ue),Me=n(68),xe=n.n(Me),qe=Object(h.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:{main:"#2979ff"},secondary:{main:"#ff9100"},warning:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}}}),Ge=function(e){var t=e.children;return r.a.createElement(xe.a,null,r.a.createElement(h.MuiThemeProvider,{theme:qe},t))};Ge.defaultProps={children:[]};var ze=Ge,Ye=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(ze,null,r.a.createElement(b.a,null,r.a.createElement(k.a,{path:"/statistics/",component:pe}),r.a.createElement(k.a,{path:"/settings",component:Te}),r.a.createElement(k.a,{path:"/",component:me})),r.a.createElement(Ke,null)))}}]),t}(a.Component);var Je=Object(s.d)(Object(p.b)(function(e){return{}}),Object(h.withStyles)({}))(Ye),Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var He=n(150),Qe={email:"",firstName:"",lastName:""};var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He.SET_USER:return{email:t.email,firstName:t.firstName,lastName:t.lastName};default:return e}},Fe="UPDATE_TIMER",Ze="RESET_SESSION",et="SET_PAUSED";var tt="SET_WORK_STARTED",nt="WORK_COMPLETE",at="SET_BREAK_STARTED",rt="SET_BREAK_COMPLETE",ot={type:"WORK",duration:O.a.duration(.1,"minutes").as("seconds"),timeRemaining:O.a.duration(.1,"minutes").as("seconds")},it={type:"BREAK",duration:O.a.duration(.05,"minutes").as("seconds"),timeRemaining:O.a.duration(.05,"minutes").as("seconds")},st=Object(v.a)({status:"IDLE",startTime:null,completeAmt:0,sessionAmt:4,timeIntervals:[]},ot);function ct(e){var t=O()(),n=O()(e),a=O.a.duration(t.diff(n)).as("seconds");return Math.round(a)}var lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(v.a)({},e,{timeRemaining:t.timeRemaining});case Ze:return st;case tt:return Object(v.a)({},e,ot,{status:"RUNNING",startTime:new Date});case at:return Object(v.a)({},e,it,{status:"RUNNING",startTime:new Date});case et:return Object(v.a)({},e,{status:"PAUSED",startTime:null,timeIntervals:[].concat(Object(g.a)(e.timeIntervals),[ct(e.startTime)])});case nt:return Object(v.a)({},e,{completeAmt:e.completeAmt+1,status:"IDLE",timeIntervals:[],timeRemaining:0});case rt:return Object(v.a)({},e,ot,{status:"IDLE",startTime:null});default:return e}},ut={workDuration:O.a.duration(.1,"minutes").asSeconds(),breakDuration:O.a.duration(5,"minutes").asSeconds(),longBreakEnabled:!1,longBreakDuration:O.a.duration(10,"minutes").asSeconds(),workSessions:4};var mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(v.a)({},e,{workDuration:O.a.duration(t.workDuration,"minutes").asSeconds()});case Se:return Object(v.a)({},e,{breakDuration:O.a.duration(t.breakDuration,"minutes").asSeconds()});case je:return Object(v.a)({},e,{longBreakEnabled:!e.longBreakEnabled});case ye:return Object(v.a)({},e,{longBreakDuration:O.a.duration(t.longBreakDuration,"minutes").asSeconds()});case we:return Object(v.a)({},e,{workSessions:t.workSessions});default:return e}},dt=Object(s.c)({user:$e,timer:lt,settings:mt}),pt=n(151),ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,bt=Object(s.e)(dt,ft(Object(s.a)(pt.a)));i.a.render(r.a.createElement(p.a,{store:bt},r.a.createElement(Je,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/pomodoro-timer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/pomodoro-timer","/service-worker.js");Ve?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Xe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Xe(e)})}}()}},[[223,1,2]]]);
//# sourceMappingURL=main.955b8f24.chunk.js.map